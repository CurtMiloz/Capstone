var errList=[];function setErrorList(e){console.log(e),errList.push("lowLiquid"),errList.push("leakingTank"),errList.push("lowBattery"),errList.push("noMovement"),renderErrors()}function renderErrors(){}function createCORSRequest(e,o){var r=new XMLHttpRequest;return"withCredentials"in r?r.open(e,o,!0):"undefined"!=typeof XDomainRequest?(r=new XDomainRequest).open(e,o):r=null,r}function Login(){form=document.getElementById("loginForm"),userid=form.user.value,passwd=form.pass.value,NetworkCall("login",[userid,passwd])}function navigate(e){window.location.href=e}function NetworkCall(e,o){var r=new XMLHttpRequest;if("login"==e){if(!(r=createCORSRequest("POST","/proxy/login")))throw new Error("CORS not supported");var n=String(o[0])+":"+String(o[1]),t=btoa(n);r.setRequestHeader("Authorization","Basic "+t),r.onload=function(){r.responseText},r.onerror=function(){console.log("error")},r.onreadystatechange=function(){200==r.status?navigate("../index.html"):console.log("Error: "+r.responseText)}}else if("getErrors"==e){if(!(r=createCORSRequest("GET","/proxy/errors")))throw new Error("CORS not supported");r.onload=function(){r.responseText},r.onerror=function(){console.log("error")},r.onreadystatechange=function(){200==r.status?setErrorList(r.responseText):console.log("Error: "+r.responseText)}}r.send()}window.onload=function(){x=document.getElementById("lowLiquid"),console.log(x),console.log("hello"),NetworkCall("getErrors")};